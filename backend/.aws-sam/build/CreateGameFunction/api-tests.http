### Rook Backend - API Test Requests
### Use with VS Code REST Client extension (humao.rest-client)

### Variables
@baseUrl = http://localhost:3001
@gameId = YOUR_GAME_ID_HERE

### ============================================
### Health Check
### ============================================

GET {{baseUrl}}/health

### ============================================
### Create Game
### ============================================

# @name createGame
POST {{baseUrl}}/createGame
Content-Type: application/json

{
  "hostName": "Alice"
}

### ============================================
### Join Game
### ============================================
### After creating a game, copy the gameId from the response
### and paste it in the @gameId variable above, or use the
### dynamic variable below

# @name joinGame
POST {{baseUrl}}/joinGame
Content-Type: application/json

{
  "gameId": "{{gameId}}",
  "playerName": "Bob"
}

### ============================================
### Join Game (using response from createGame)
### ============================================
### This automatically uses the gameId from the last createGame call

POST {{baseUrl}}/joinGame
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "Charlie"
}

### ============================================
### List All Games (Debug)
### ============================================

GET {{baseUrl}}/games

### ============================================
### Add More Players to Same Game
### ============================================

POST {{baseUrl}}/joinGame
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "David"
}

### ============================================
### Choose Partner (Host Action)
### ============================================
### After all 4 players join, the host chooses a partner

# @name choosePartner
POST {{baseUrl}}/choosePartner
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "hostName": "Alice",
  "partnerName": "Charlie"
}

### ============================================
### Game Action - Play Card
### ============================================
### Test the new gameAction endpoint with playCard action
### Note: This requires a game in PLAYING status with cards dealt

# @name playCard
POST {{baseUrl}}/gameAction
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "Alice",
  "action": "playCard",
  "card": "Green14"
}

### ============================================
### Test Invalid Actions
### ============================================

# Test invalid action
POST {{baseUrl}}/gameAction
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "Alice",
  "action": "invalidAction"
}

### Test playCard with invalid card
POST {{baseUrl}}/gameAction
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "Alice",
  "action": "playCard",
  "card": "InvalidCard"
}

### Test playCard when not player's turn
POST {{baseUrl}}/gameAction
Content-Type: application/json

{
  "gameId": "{{createGame.response.body.gameId}}",
  "playerName": "Bob",
  "action": "playCard",
  "card": "Red10"
}
